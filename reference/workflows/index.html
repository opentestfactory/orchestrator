
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.4">
    
    
      
        <title>Workflow syntax - Squash Orchestrator</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.77f3fd56.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#workflow-syntax-for-squash-orchestrator" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Squash Orchestrator" class="md-header__button md-logo" aria-label="Squash Orchestrator">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Squash Orchestrator
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Workflow syntax
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Squash Orchestrator" class="md-nav__button md-logo" aria-label="Squash Orchestrator">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Squash Orchestrator
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Guides
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/inception/" class="md-nav__link">
        Inception
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/outputs/" class="md-nav__link">
        Outputs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/repositories/" class="md-nav__link">
        Repositories
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Learn Squash Orchestrator
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Learn Squash Orchestrator" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Learn Squash Orchestrator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../learn-squash-orchestrator/learn/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../learn-squash-orchestrator/introduction-to-squash-orchestrator/" class="md-nav__link">
        Introduction to Squash Orchestrator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../learn-squash-orchestrator/finding-and-customizing-plugins/" class="md-nav__link">
        Finding and customizing plugins
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../learn-squash-orchestrator/essential-features-of-squash-orchestrator/" class="md-nav__link">
        Essential features of Squash Orchestrator
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Creating plugins
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Creating plugins" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Creating plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/about-plugins/" class="md-nav__link">
        About plugins
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/creating-a-generator-plugin/" class="md-nav__link">
        Creating a generator plugin
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/creating-a-provider-plugin/" class="md-nav__link">
        Creating a provider plugin
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/metadata-syntax-for-squashtf-plugins/" class="md-nav__link">
        Metatadata syntax
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Providers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Providers" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Providers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/actionprovider/" class="md-nav__link">
        action
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/cucumber/" class="md-nav__link">
        cucumber
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/cypress/" class="md-nav__link">
        cypress
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/junit/" class="md-nav__link">
        junit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/robotframework/" class="md-nav__link">
        robotframework
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/soapui/" class="md-nav__link">
        soapui
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Configuring services
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Configuring services" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Configuring services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../services/actionprovider/" class="md-nav__link">
        Action Provider service
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../services/arranger/" class="md-nav__link">
        Arranger service
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../services/eventbus/" class="md-nav__link">
        Event Bus
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../services/killswitch/" class="md-nav__link">
        Killswitch service
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../services/observer/" class="md-nav__link">
        Observer service
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../services/receptionist/" class="md-nav__link">
        Receptionist service
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../services/sshee/" class="md-nav__link">
        SSH Channel service
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      <label class="md-nav__link" for="__nav_9">
        Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Workflow syntax
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Workflow syntax
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#about-yaml-syntax-for-workflows" class="md-nav__link">
    About YAML syntax for workflows
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-limits" class="md-nav__link">
    Usage limits
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadataname" class="md-nav__link">
    metadata.name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    variables
  </a>
  
    <nav class="md-nav" aria-label="variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    resources
  </a>
  
    <nav class="md-nav" aria-label="resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-of-a-repository-resource" class="md-nav__link">
    Example of a repository resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-a-file-resource" class="md-nav__link">
    Example of a file resource
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defaults" class="md-nav__link">
    defaults
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defaultsrun" class="md-nav__link">
    defaults.run
  </a>
  
    <nav class="md-nav" aria-label="defaults.run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_1" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobs" class="md-nav__link">
    jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_id" class="md-nav__link">
    jobs.&lt;job_id&gt;
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_2" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idname" class="md-nav__link">
    jobs.&lt;job_id&gt;.name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idneeds" class="md-nav__link">
    jobs.&lt;job_id&gt;.needs
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.needs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_3" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idruns-on" class="md-nav__link">
    jobs.&lt;job_id&gt;.runs-on
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.runs-on">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_4" class="md-nav__link">
    Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-hosted-execution-environments" class="md-nav__link">
    Self-hosted execution environments
  </a>
  
    <nav class="md-nav" aria-label="Self-hosted execution environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_5" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjobs_idoutputs" class="md-nav__link">
    jobs.&lt;jobs_id&gt;.outputs
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;jobs_id&gt;.outputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_6" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idvariables" class="md-nav__link">
    jobs.&lt;job_id&gt;.variables
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_7" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_iddefaults" class="md-nav__link">
    jobs.&lt;job_id&gt;.defaults
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_iddefaultsrun" class="md-nav__link">
    jobs.&lt;job_id&gt;.defaults.run
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.defaults.run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_8" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idif" class="md-nav__link">
    jobs.&lt;job_id&gt;.if
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idgenerator" class="md-nav__link">
    jobs.&lt;job_id&gt;.generator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idsteps" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_9" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsid" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.id
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsif" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.if
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps.if">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-using-contexts" class="md-nav__link">
    Example using contexts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-using-status-check-functions" class="md-nav__link">
    Example using status check functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsname" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsuses" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.uses
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps.uses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-using-versioned-actions" class="md-nav__link">
    Example using versioned actions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-using-a-public-action" class="md-nav__link">
    Example using a public action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-using-a-public-action-in-a-subdirectory" class="md-nav__link">
    Example using a public action in a subdirectory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-using-action-in-the-same-repository-as-the-workflow" class="md-nav__link">
    Example using action in the same repository as the workflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsrun" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.run
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps.run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-a-specific-shell" class="md-nav__link">
    Using a specific shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-running-a-script-using-bash" class="md-nav__link">
    Example running a script using bash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-running-a-script-using-windows-cmd" class="md-nav__link">
    Example running a script using Windows cmd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-running-a-python-script" class="md-nav__link">
    Example running a python script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-shell" class="md-nav__link">
    Custom shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exit-codes-and-error-action-preference" class="md-nav__link">
    Exit codes and error action preference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepswith" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.with
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps.with">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_10" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsvariables" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.variables
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps.variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_11" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepscontinue-on-error" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.continue-on-error
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepstimeout-minutes" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.timeout-minutes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idtimeout-minutes" class="md-nav__link">
    jobs.&lt;job_id&gt;.timeout-minutes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstrategy" class="md-nav__link">
    jobs.&lt;job_id&gt;.strategy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstrategymatrix" class="md-nav__link">
    jobs.&lt;job_id&gt;.strategy.matrix
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.strategy.matrix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-running-with-more-than-one-version-of-nodejs" class="md-nav__link">
    Example running with more than one version of Node.js
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-running-with-more-than-one-execution-environment" class="md-nav__link">
    Example running with more than one execution environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-including-additional-values-into-combinations" class="md-nav__link">
    Example including additional values into combinations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-including-new-combinations" class="md-nav__link">
    Example including new combinations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-excluding-configurations-from-a-matrix" class="md-nav__link">
    Example excluding configurations from a matrix
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstrategyfail-fast" class="md-nav__link">
    jobs.&lt;job_id&gt;.strategy.fail-fast
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstrategymax-parallel" class="md-nav__link">
    jobs.&lt;job_id&gt;.strategy.max-parallel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idcontinue-on-error" class="md-nav__link">
    jobs.&lt;job_id&gt;.continue-on-error
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.continue-on-error">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-preventing-a-specific-failing-matrix-job-from-failing-a-workflow-run" class="md-nav__link">
    Example preventing a specific failing matrix job from failing a workflow run
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../context-and-expression-syntax/" class="md-nav__link">
        Context and expression syntax
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../workflow-commands/" class="md-nav__link">
        Workflow commands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../using-environment-variables/" class="md-nav__link">
        Environment variables
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#about-yaml-syntax-for-workflows" class="md-nav__link">
    About YAML syntax for workflows
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-limits" class="md-nav__link">
    Usage limits
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadataname" class="md-nav__link">
    metadata.name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    variables
  </a>
  
    <nav class="md-nav" aria-label="variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    resources
  </a>
  
    <nav class="md-nav" aria-label="resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-of-a-repository-resource" class="md-nav__link">
    Example of a repository resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-a-file-resource" class="md-nav__link">
    Example of a file resource
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defaults" class="md-nav__link">
    defaults
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defaultsrun" class="md-nav__link">
    defaults.run
  </a>
  
    <nav class="md-nav" aria-label="defaults.run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_1" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobs" class="md-nav__link">
    jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_id" class="md-nav__link">
    jobs.&lt;job_id&gt;
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_2" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idname" class="md-nav__link">
    jobs.&lt;job_id&gt;.name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idneeds" class="md-nav__link">
    jobs.&lt;job_id&gt;.needs
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.needs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_3" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idruns-on" class="md-nav__link">
    jobs.&lt;job_id&gt;.runs-on
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.runs-on">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_4" class="md-nav__link">
    Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-hosted-execution-environments" class="md-nav__link">
    Self-hosted execution environments
  </a>
  
    <nav class="md-nav" aria-label="Self-hosted execution environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_5" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjobs_idoutputs" class="md-nav__link">
    jobs.&lt;jobs_id&gt;.outputs
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;jobs_id&gt;.outputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_6" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idvariables" class="md-nav__link">
    jobs.&lt;job_id&gt;.variables
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_7" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_iddefaults" class="md-nav__link">
    jobs.&lt;job_id&gt;.defaults
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_iddefaultsrun" class="md-nav__link">
    jobs.&lt;job_id&gt;.defaults.run
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.defaults.run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_8" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idif" class="md-nav__link">
    jobs.&lt;job_id&gt;.if
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idgenerator" class="md-nav__link">
    jobs.&lt;job_id&gt;.generator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idsteps" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_9" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsid" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.id
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsif" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.if
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps.if">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-using-contexts" class="md-nav__link">
    Example using contexts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-using-status-check-functions" class="md-nav__link">
    Example using status check functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsname" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsuses" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.uses
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps.uses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-using-versioned-actions" class="md-nav__link">
    Example using versioned actions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-using-a-public-action" class="md-nav__link">
    Example using a public action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-using-a-public-action-in-a-subdirectory" class="md-nav__link">
    Example using a public action in a subdirectory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-using-action-in-the-same-repository-as-the-workflow" class="md-nav__link">
    Example using action in the same repository as the workflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsrun" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.run
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps.run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-a-specific-shell" class="md-nav__link">
    Using a specific shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-running-a-script-using-bash" class="md-nav__link">
    Example running a script using bash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-running-a-script-using-windows-cmd" class="md-nav__link">
    Example running a script using Windows cmd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-running-a-python-script" class="md-nav__link">
    Example running a python script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-shell" class="md-nav__link">
    Custom shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exit-codes-and-error-action-preference" class="md-nav__link">
    Exit codes and error action preference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepswith" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.with
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps.with">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_10" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepsvariables" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.variables
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.steps.variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_11" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepscontinue-on-error" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.continue-on-error
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstepstimeout-minutes" class="md-nav__link">
    jobs.&lt;job_id&gt;.steps.timeout-minutes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idtimeout-minutes" class="md-nav__link">
    jobs.&lt;job_id&gt;.timeout-minutes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstrategy" class="md-nav__link">
    jobs.&lt;job_id&gt;.strategy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstrategymatrix" class="md-nav__link">
    jobs.&lt;job_id&gt;.strategy.matrix
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.strategy.matrix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-running-with-more-than-one-version-of-nodejs" class="md-nav__link">
    Example running with more than one version of Node.js
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-running-with-more-than-one-execution-environment" class="md-nav__link">
    Example running with more than one execution environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-including-additional-values-into-combinations" class="md-nav__link">
    Example including additional values into combinations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-including-new-combinations" class="md-nav__link">
    Example including new combinations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-excluding-configurations-from-a-matrix" class="md-nav__link">
    Example excluding configurations from a matrix
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstrategyfail-fast" class="md-nav__link">
    jobs.&lt;job_id&gt;.strategy.fail-fast
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idstrategymax-parallel" class="md-nav__link">
    jobs.&lt;job_id&gt;.strategy.max-parallel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jobsjob_idcontinue-on-error" class="md-nav__link">
    jobs.&lt;job_id&gt;.continue-on-error
  </a>
  
    <nav class="md-nav" aria-label="jobs.&lt;job_id&gt;.continue-on-error">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-preventing-a-specific-failing-matrix-job-from-failing-a-workflow-run" class="md-nav__link">
    Example preventing a specific failing matrix job from failing a workflow run
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="workflow-syntax-for-squash-orchestrator">Workflow syntax for Squash Orchestrator<a class="headerlink" href="#workflow-syntax-for-squash-orchestrator" title="Permanent link">&para;</a></h1>
<p><strong>Note</strong>: This workflow syntax closely matches GitHub Actions workflow syntax.  If you are new to GitHub actions and want to learn more, see &ldquo;<a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions">Workflow syntax for GitHub Actions</a>.&rdquo;</p>
<p>A workflow is a configurable automated process made up of one or more jobs. You must create a YAML file to define your workflow configuration.</p>
<h2 id="about-yaml-syntax-for-workflows">About YAML syntax for workflows<a class="headerlink" href="#about-yaml-syntax-for-workflows" title="Permanent link">&para;</a></h2>
<p>Workflow files use YAML syntax, and must have either a <code>.yml</code> or <code>.yaml</code> file extension. If you&rsquo;re new to YAML and want to learn more, see &ldquo;<a href="https://www.codeproject.com/Articles/1214409/Learn-YAML-in-five-minutes">Learn YAML in five minutes</a>.&rdquo;</p>
<p>You may store workflow files anywhere in your repository.</p>
<h2 id="usage-limits">Usage limits<a class="headerlink" href="#usage-limits" title="Permanent link">&para;</a></h2>
<p>There are some limits on Squash Orchestrator workflows. These limits are subject to change.</p>
<ul>
<li><strong>Jobs</strong> - There can be a maximum of 1024 jobs per workflow (including generated jobs).</li>
<li><strong>Steps</strong> - There can be a maximum of 256 steps per job (including generated steps).</li>
<li><strong>Job matrix</strong> - A job matrix can generate a maximum of 256 jobs per workflow run.</li>
</ul>
<h2 id="metadataname"><code>metadata.name</code><a class="headerlink" href="#metadataname" title="Permanent link">&para;</a></h2>
<p>The name of your workflow. Squash Orchestrator displays the names of your workflows on your repository&rsquo;s actions page.</p>
<h2 id="variables"><code>variables</code><a class="headerlink" href="#variables" title="Permanent link">&para;</a></h2>
<p>A map of environment variables that are available to all jobs and steps in the workflow. You can also set environment variables that are only available to a job or step. For more information, see <a href="#jobs.&lt;job_id&gt;.variables"><code>jobs.&lt;job_id&gt;.variables</code></a> and <a href="#jobs.&lt;job_id&gt;.steps.variables"><code>jobs.&lt;job_id&gt;.steps.variables</code></a>.</p>
<p>When more than one environment variable is defined with the same name, the orchestrator uses the most specific environment variable. For example, an environment variable defined in a step will override job and workflow variables with the same name, while the step executes. A variable defined for a job will override a workflow variable with the same name, while the job executes.</p>
<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">variables</span><span class="p">:</span>
  <span class="nt">SERVER</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">production</span>
</code></pre></div>
<h2 id="resources"><code>resources</code><a class="headerlink" href="#resources" title="Permanent link">&para;</a></h2>
<p>A map of resources that are available to all jobs and steps in the workflow.  You can define
three kinds of resources: <code>testmanagers</code>, <code>repositories</code>, and <code>files</code>.</p>
<p><code>testmanagers</code> and <code>repositories</code> resources are a way to reuse resources in your
workflow.  <code>files</code> allows to provide local or external files to your workflow.</p>
<h3 id="example-of-a-repository-resource">Example of a repository resource<a class="headerlink" href="#example-of-a-repository-resource" title="Permanent link">&para;</a></h3>
<p>This example defines a <code>myrepo</code> repository:</p>
<div class="highlight"><pre><span></span><code><span class="nt">resources</span><span class="p">:</span>
  <span class="nt">repositories</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">myrepo</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bitbucket</span>
    <span class="nt">repository</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example/my-example-repo</span>
    <span class="nt">endpoint</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://bitbucket.org</span>
</code></pre></div>
<p>This resource can be referenced in a checkout action:</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>
  <span class="nt">with</span><span class="p">:</span>
    <span class="nt">repository</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ resources.repositories.myrepo }}</span>
</code></pre></div>
<h3 id="example-of-a-file-resource">Example of a file resource<a class="headerlink" href="#example-of-a-file-resource" title="Permanent link">&para;</a></h3>
<p>This example defines one file.  This file will have to be joined when launching the
workflow:</p>
<div class="highlight"><pre><span></span><code><span class="nt">resources</span><span class="p">:</span>
  <span class="nt">files</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dataset</span>
</code></pre></div>
<p>This action will put a copy of the provided file in the current execution environment,
so that the following steps can use it:</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/put-file@v1</span>
  <span class="nt">with</span><span class="p">:</span>
    <span class="nt">data</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ resources.files.dataset }}</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">dataset.xml</span>
</code></pre></div>
<h2 id="defaults"><code>defaults</code><a class="headerlink" href="#defaults" title="Permanent link">&para;</a></h2>
<p>A map of default settings that will apply to all jobs in the workflow. You can also set default settings that are only available to a job. For more information, see <a href="#jobs.&lt;job_id&gt;.defaults"><code>jobs.&lt;job_id&gt;.defaults</code></a>.</p>
<p>When more than one default setting is defined with the same name, the orchestrator uses the most specific default setting. For example, a default setting defined in a job will override a default setting that has the same name defined in a workflow.</p>
<h2 id="defaultsrun"><code>defaults.run</code><a class="headerlink" href="#defaultsrun" title="Permanent link">&para;</a></h2>
<p>You can provide default <code>shell</code> and <code>working-directory</code> options for all <a href="#jobs.&lt;job_id&gt;.steps.run"><code>run</code></a> steps in a workflow. You can also set default settings for run that are only available to a job. For more information, see <a href="#jobs.&lt;job_id&gt;.defaults.run"><code>jobs.&lt;job_id&gt;.defaults.run</code></a>. You cannot use contexts or expressions in this keyword.</p>
<p>When more than one default setting is defined with the same name, Squash Orchestrator uses the most specific default setting. For example, a default setting defined in a job will override a default setting that has the same name defined in a workflow.</p>
<h3 id="example_1">Example<a class="headerlink" href="#example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">defaults</span><span class="p">:</span>
  <span class="nt">run</span><span class="p">:</span>
    <span class="nt">shell</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bash</span>
    <span class="nt">working-directory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">scripts</span>
</code></pre></div>
<h2 id="jobs"><code>jobs</code><a class="headerlink" href="#jobs" title="Permanent link">&para;</a></h2>
<p>A workflow run is made up of one or more jobs. Jobs run in parallel by default. To run jobs sequentially, you can define dependencies on other jobs using the <code>jobs.&lt;job_id&gt;.needs</code> keyword.</p>
<p>Each job runs in an execution environment specified by <code>runs-on</code>.</p>
<p>You can run an unlimited number of jobs as long as you are within the workflow usage limits. For more information, see &ldquo;<a href="#usage-limits">Usage limits</a>.&rdquo;</p>
<h2 id="jobsjob_id"><code>jobs.&lt;job_id&gt;</code><a class="headerlink" href="#jobsjob_id" title="Permanent link">&para;</a></h2>
<p>Each job must have an id to associate with the job. The key <code>job_id</code> is a string and its value is a map of the job&rsquo;s configuration data. You must replace <code>&lt;job_id&gt;</code> with a string that is unique to the jobs object. The <code>&lt;job_id&gt;</code> must start with a letter or <code>_</code> and contain only alphanumeric characters, <code>-</code>, or<code>_</code>.</p>
<h3 id="example_2">Example<a class="headerlink" href="#example_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">my_first_job</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My first job</span>
  <span class="nt">my_second_job</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My second job</span>
</code></pre></div>
<h2 id="jobsjob_idname"><code>jobs.&lt;job_id&gt;.name</code><a class="headerlink" href="#jobsjob_idname" title="Permanent link">&para;</a></h2>
<p>The name of the job displayed on Squash Orchestrator.</p>
<h2 id="jobsjob_idneeds"><code>jobs.&lt;job_id&gt;.needs</code><a class="headerlink" href="#jobsjob_idneeds" title="Permanent link">&para;</a></h2>
<p>Identifies any jobs that must complete successfully before this job will run. It can be a string or array of strings. If a job fails, all jobs that need it are skipped unless the jobs use a conditional statement that causes the job to continue.</p>
<h3 id="example_3">Example<a class="headerlink" href="#example_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">job1</span><span class="p">:</span>
  <span class="nt">job2</span><span class="p">:</span>
    <span class="nt">needs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">job1</span>
  <span class="nt">job3</span><span class="p">:</span>
    <span class="nt">needs</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">job1</span><span class="p p-Indicator">,</span> <span class="nv">job2</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>In this example, <code>job1</code> must complete successfully before <code>job2</code> begins, and <code>job3</code> waits for both <code>job1</code> and <code>job2</code> to complete.</p>
<p>The jobs in this example run sequentially:</p>
<ul>
<li><code>job1</code></li>
<li><code>job2</code></li>
<li><code>job3</code></li>
</ul>
<h2 id="jobsjob_idruns-on"><code>jobs.&lt;job_id&gt;.runs-on</code><a class="headerlink" href="#jobsjob_idruns-on" title="Permanent link">&para;</a></h2>
<p><strong>Required</strong> The environment to run the job on.</p>
<h3 id="example_4">Example<a class="headerlink" href="#example_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</code></pre></div>
<p>For more information, see &ldquo;Execution environments.&rdquo;</p>
<h3 id="self-hosted-execution-environments">Self-hosted execution environments<a class="headerlink" href="#self-hosted-execution-environments" title="Permanent link">&para;</a></h3>
<p>To specify a self-hosted execution environment for your job, configure <code>runs-on</code> in your workflow file with <code>self-hosted</code> execution environment labels.</p>
<p>All self-hosted execution environments have the <code>self-hosted</code> label, and you can select any self-hosted execution environment by providing only the <code>self-hosted</code> label. Alternatively, you can use <code>self-hosted</code> in an array with additional labels, such as labels for a specific execution environment, to select only the execution environment types you specify.</p>
<h4 id="example_5">Example<a class="headerlink" href="#example_5" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nt">runs-on</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">self-hosted</span><span class="p p-Indicator">,</span> <span class="nv">linux</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>For more information, see &ldquo;About self-hosted execution environments&rdquo; and &ldquo;Using self-hosted execution environments in a workflow.&rdquo;</p>
<h2 id="jobsjobs_idoutputs"><code>jobs.&lt;jobs_id&gt;.outputs</code><a class="headerlink" href="#jobsjobs_idoutputs" title="Permanent link">&para;</a></h2>
<p>A map of outputs for a job. Job outputs are available to all downstream jobs that depend on this job. For more information on defining job dependencies, see <a href="#jobs.&lt;job_id&gt;.needs"><code>jobs.&lt;job_id&gt;.needs</code></a>.</p>
<p>Job outputs are strings, and job outputs containing expressions are evaluated on the runner at the end of each job. Outputs containing secrets are redacted on the runner and not sent to GitHub Actions.</p>
<p>To use job outputs in a dependent job, you can use the <code>needs</code> context. For more information, see &ldquo;<a href="../context-and-expression-syntax/">Context and expression syntax for Squash Orchestrator Workflows</a>.&rdquo;</p>
<h3 id="example_6">Example<a class="headerlink" href="#example_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">job1</span><span class="p">:</span>
    <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
    <span class="c1"># Map a step output to a job output</span>
    <span class="nt">outputs</span><span class="p">:</span>
      <span class="nt">output1</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ steps.step1.outputs.test }}</span>
      <span class="nt">output2</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ steps.step2.outputs.test }}</span>
    <span class="nt">steps</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">step1</span>
      <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">echo &quot;::set-output name=test::hello&quot;</span>
    <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">step2</span>
      <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">echo &quot;::set-output name=test::world&quot;</span>
  <span class="nt">job2</span><span class="p">:</span>
    <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
    <span class="nt">needs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">job1</span>
    <span class="nt">steps</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">echo ${{needs.job1.outputs.output1}} ${{needs.job1.outputs.output2}}</span>
</code></pre></div>
<h2 id="jobsjob_idvariables"><code>jobs.&lt;job_id&gt;.variables</code><a class="headerlink" href="#jobsjob_idvariables" title="Permanent link">&para;</a></h2>
<p>A map of environment variables that are available to all steps in the job. You can also set environment variables for the entire workflow or an individual step. For more information, see <a href="#variables"><code>variables</code></a> and <a href="#jobs.&lt;job_id&gt;.steps.variables"><code>jobs.&lt;job_id&gt;.steps.variables</code></a>.</p>
<p>When more than one environment variable is defined with the same name, Squash Orchestrator uses the most specific environment variable. For example, an environment variable defined in a step will override job and workflow variables with the same name, while the step executes. A variable defined for a job will override a workflow variable with the same name, while the job executes.</p>
<h3 id="example_7">Example<a class="headerlink" href="#example_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">job1</span><span class="p">:</span>
    <span class="nt">variables</span><span class="p">:</span>
      <span class="nt">FIRST_NAME</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Mona</span>
</code></pre></div>
<h2 id="jobsjob_iddefaults"><code>jobs.&lt;job_id&gt;.defaults</code><a class="headerlink" href="#jobsjob_iddefaults" title="Permanent link">&para;</a></h2>
<p>A map of default settings that will apply to all steps in the job. You can also set default settings for the entire workflow. For more information, see <a href="#defaults"><code>defaults</code></a>.</p>
<p>When more than one default setting is defined with the same name, Squash Orchestrator uses the most specific default setting. For example, a default setting defined in a job will override a default setting that has the same name defined in a workflow.</p>
<h2 id="jobsjob_iddefaultsrun"><code>jobs.&lt;job_id&gt;.defaults.run</code><a class="headerlink" href="#jobsjob_iddefaultsrun" title="Permanent link">&para;</a></h2>
<p>Provide default <code>shell</code> and <code>working-directory</code> to all run steps in the job. Context and expression are not allowed in this section.</p>
<p>You can provide default <code>shell</code> and <code>working-directory</code> options for all <code>run</code> steps in a job. You can also set default settings for run for the entire workflow. For more information, see <a href="#jobs.defaults.run"><code>jobs.defaults.run</code></a>. You cannot use contexts or expressions in this keyword.</p>
<p>When more than one default setting is defined with the same name, Squash Orchestrator uses the most specific default setting. For example, a default setting defined in a job will override a default setting that has the same name defined in a workflow.</p>
<h3 id="example_8">Example<a class="headerlink" href="#example_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">job1</span><span class="p">:</span>
    <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
    <span class="nt">defaults</span><span class="p">:</span>
      <span class="nt">run</span><span class="p">:</span>
        <span class="nt">shell</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bash</span>
        <span class="nt">working-directory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">scripts</span>
</code></pre></div>
<h2 id="jobsjob_idif"><code>jobs.&lt;job_id&gt;.if</code><a class="headerlink" href="#jobsjob_idif" title="Permanent link">&para;</a></h2>
<p>You can use the <code>if</code> conditional to prevent a job from running unless a condition is met. You can use any supported context and expression to create a conditional.</p>
<p>When you use expressions in an <code>if</code> conditional, you may omit the expression syntax (<code>${{ }}</code>) because Squash Orchestrator automatically evaluates the <code>if</code> conditional as an expression. For more information, see &ldquo;<a href="../context-and-expression-syntax/">Context and expression syntax for Squash Orchestrator Workflows</a>.&rdquo;</p>
<h2 id="jobsjob_idgenerator"><code>jobs.&lt;job_id&gt;.generator</code><a class="headerlink" href="#jobsjob_idgenerator" title="Permanent link">&para;</a></h2>
<p>A <code>generator</code> creates a series of jobs that replace the current job.</p>
<h2 id="jobsjob_idsteps"><code>jobs.&lt;job_id&gt;.steps</code><a class="headerlink" href="#jobsjob_idsteps" title="Permanent link">&para;</a></h2>
<p>A job contains a sequence of tasks called <code>steps</code>. Steps can run commands, run setup tasks, or run an action. Not all steps run actions, but all actions run as a step. Each step runs in its own process in the execution environment and has access to the workspace and filesystem. Because steps run in their own process, changes to environment variables are not preserved between steps. Squash Orchestrator provides built-in steps to set up and complete a job.</p>
<p>You can run an unlimited number of steps as long as you are within the workflow usage limits. For more information, see &ldquo;<a href="#usage-limits">Usage limits</a>.&rdquo;</p>
<h3 id="example_9">Example<a class="headerlink" href="#example_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Greeting from Mona</span>

<span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">my-job</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My Job</span>
    <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
    <span class="nt">steps</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Print a greeting</span>
      <span class="nt">variables</span><span class="p">:</span>
        <span class="nt">MY_VAR</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Hi there! My name is</span>
        <span class="nt">FIRST_NAME</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Mona</span>
        <span class="nt">MIDDLE_NAME</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The</span>
        <span class="nt">LAST_NAME</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Octocat</span>
      <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">|</span>
        <span class="no">echo $MY_VAR $FIRST_NAME $MIDDLE_NAME $LAST_NAME.</span>
</code></pre></div>
<h2 id="jobsjob_idstepsid"><code>jobs.&lt;job_id&gt;.steps.id</code><a class="headerlink" href="#jobsjob_idstepsid" title="Permanent link">&para;</a></h2>
<p>A unique identifier for the step. You can use the <code>id</code> to reference the step in contexts. For more information, see &ldquo;<a href="../context-and-expression-syntax/">Context and expression syntax for Squash Orchestrator Workflows</a>.&rdquo;</p>
<h2 id="jobsjob_idstepsif"><code>jobs.&lt;job_id&gt;.steps.if</code><a class="headerlink" href="#jobsjob_idstepsif" title="Permanent link">&para;</a></h2>
<p>You can use the <code>if</code> conditional to prevent a step from running unless a condition is met. You can use any supported context and expression to create a conditional.</p>
<p>When you use expressions in an <code>if</code> conditional, you may omit the expression syntax (<code>${{ }}</code>) because Squash Orchestrator automatically evaluates the <code>if</code> conditional as an expression. For more information, see &ldquo;<a href="../context-and-expression-syntax/">Context and expression syntax for Squash Orchestrator Workflows</a>.&rdquo;</p>
<h3 id="example-using-contexts">Example using contexts<a class="headerlink" href="#example-using-contexts" title="Permanent link">&para;</a></h3>
<p>This step only runs when the event type is a pull_request and the event action is unassigned.</p>
<div class="highlight"><pre><span></span><code><span class="nt">steps</span><span class="p">:</span>
 <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My first step</span>
   <span class="nt">if</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ github.event_name == &#39;pull_request&#39; &amp;&amp; github.event.action == &#39;unassigned&#39; }}</span>
   <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">echo This event is a pull request that had an assignee removed.</span>
</code></pre></div>
<h3 id="example-using-status-check-functions">Example using status check functions<a class="headerlink" href="#example-using-status-check-functions" title="Permanent link">&para;</a></h3>
<p>The my backup step only runs when the previous step of a job fails. For more information, see &ldquo;<a href="../context-and-expression-syntax/">Context and expression syntax for Squash Orchestrator Workflows</a>.&rdquo;</p>
<div class="highlight"><pre><span></span><code><span class="nt">steps</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My first step</span>
    <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">monacorp/action-name@master</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My backup step</span>
    <span class="nt">if</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ failure() }}</span>
    <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/heroku@master</span>
</code></pre></div>
<h2 id="jobsjob_idstepsname"><code>jobs.&lt;job_id&gt;.steps.name</code><a class="headerlink" href="#jobsjob_idstepsname" title="Permanent link">&para;</a></h2>
<p>A name for your step to display on Squash Orchestrator.</p>
<h2 id="jobsjob_idstepsuses"><code>jobs.&lt;job_id&gt;.steps.uses</code><a class="headerlink" href="#jobsjob_idstepsuses" title="Permanent link">&para;</a></h2>
<p>Selects an action to run as part of a step in your job. An action is a reusable unit of code. You can use an action defined in the same repository as the workflow, or in a public repository.</p>
<p>We strongly recommend that you include the version of the action you are using by specifying a Git ref, or SHA. If you do not specify a version, it could break your workflows or cause unexpected behavior when the action owner publishes an update.</p>
<ul>
<li>
<p>Using the commit SHA of a released action version is the safest for stability and security.</p>
</li>
<li>
<p>Using the specific major action version allows you to receive critical fixes and security patches while still maintaining compatibility. It also assures that your workflow should still work.</p>
</li>
<li>
<p>Using the master branch of an action may be convenient, but if someone releases a new major version with a breaking change, your workflow could break.</p>
</li>
</ul>
<p>Some actions require inputs that you must set using the <code>with</code> keyword. Review the action&rsquo;s README file to determine the inputs required.</p>
<p>Actions are Python files. For more details, see <a href="#runs-on"><code>runs-on</code></a>.</p>
<h3 id="example-using-versioned-actions">Example using versioned actions<a class="headerlink" href="#example-using-versioned-actions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">steps</span><span class="p">:</span>
  <span class="c1"># Reference a specific commit</span>
  <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-node@74bc508</span>
  <span class="c1"># Reference the major version of a release</span>
  <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-node@v1</span>
  <span class="c1"># Reference a minor version of a release</span>
  <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-node@v1.2</span>
  <span class="c1"># Reference a branch</span>
  <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-node@master</span>
</code></pre></div>
<h3 id="example-using-a-public-action">Example using a public action<a class="headerlink" href="#example-using-a-public-action" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">{</span><span class="nv">owner</span><span class="p p-Indicator">}</span><span class="l l-Scalar l-Scalar-Plain">/{repo}@{ref}</span>
</code></pre></div>
<p>You can specific branch, ref, or SHA in a public GitHub repository.</p>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">my_first_job</span><span class="p">:</span>
    <span class="nt">steps</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My first step</span>
        <span class="c1"># Uses the master branch of a public repository</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/heroku@master</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My second step</span>
        <span class="c1"># Uses a specific version tag of a public repository</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/aws@v2.0.1</span>
</code></pre></div>
<h3 id="example-using-a-public-action-in-a-subdirectory">Example using a public action in a subdirectory<a class="headerlink" href="#example-using-a-public-action-in-a-subdirectory" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">{</span><span class="nv">owner</span><span class="p p-Indicator">}</span><span class="l l-Scalar l-Scalar-Plain">/{repo}/{path}@{ref}</span>
</code></pre></div>
<p>A subdirectory in a public GitHub repository at a specific branch, ref, or SHA.</p>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">my_first_job</span><span class="p">:</span>
    <span class="nt">steps</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My first step</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/aws/ec2@master</span>
</code></pre></div>
<h3 id="example-using-action-in-the-same-repository-as-the-workflow">Example using action in the same repository as the workflow<a class="headerlink" href="#example-using-action-in-the-same-repository-as-the-workflow" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">./path/to/dir</span>
</code></pre></div>
<p>The path to the directory that contains the action in your workflow&rsquo;s repository. You must check out your repository before using the action.</p>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">my_first_job</span><span class="p">:</span>
    <span class="nt">steps</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Check out repository</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Use local my-action</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./.github/actions/my-action</span>
</code></pre></div>
<h2 id="jobsjob_idstepsrun"><code>jobs.&lt;job_id&gt;.steps.run</code><a class="headerlink" href="#jobsjob_idstepsrun" title="Permanent link">&para;</a></h2>
<p>Runs command-line programs using the execution environment&rsquo;s shell. If you do not provide a <code>name</code>, the step name will default to the text specified in the <code>run</code> command.</p>
<p>Commands run using non-login shells by default. You can choose a different shell and customize the shell used to run commands. For more information, see &ldquo;Using a specific shell.&rdquo;</p>
<p>Each <code>run</code> keyword represents a new process and shell in the runner environment. When you provide multi-line commands, each line runs in the same shell. For example:</p>
<ul>
<li>A single-line command:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install Dependencies</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">npm install</span>
</code></pre></div>
<ul>
<li>A multi-line command:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Clean install dependencies and build</span>
  <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">npm ci</span>
    <span class="no">npm run build</span>
</code></pre></div>
<p>Using the <code>working-directory</code> keyword, you can specify the working directory of where to run the command.</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Clean temp directory</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rm -rf *</span>
  <span class="nt">working-directory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./temp</span>
</code></pre></div>
<h3 id="using-a-specific-shell">Using a specific shell<a class="headerlink" href="#using-a-specific-shell" title="Permanent link">&para;</a></h3>
<p>You can override the default shell settings in the execution environment using the <code>shell</code> keyword. You can use built-in <code>shell</code> keywords, or you can define a custom set of shell options.</p>
<table>
<thead>
<tr>
<th>Supported platform</th>
<th><code>shell</code> parameter</th>
<th>Description</th>
<th>Command run internally</th>
</tr>
</thead>
<tbody>
<tr>
<td>All</td>
<td><code>bash</code></td>
<td>The default shell on non-Windows platforms with a fallback to <code>sh</code>. When specifying a bash shell on Windows, the bash shell included with Git for Windows is used.</td>
<td 0="0">bash &ndash;noprofile &ndash;norc -eo pipefail</td>
</tr>
<tr>
<td>All</td>
<td><code>python</code></td>
<td>Executes the python command.</td>
<td 0="0">python</td>
</tr>
<tr>
<td>Windows</td>
<td><code>cmd</code></td>
<td>Squash Orchestrator appends the extension <code>.cmd</code> to your script name and substitutes for <code>{0}</code>.</td>
<td>%ComSpec% /D /E:ON /V:OFF /S /C &ldquo;CALL &ldquo;{0}&rdquo;&ldquo;.</td>
</tr>
</tbody>
</table>
<h3 id="example-running-a-script-using-bash">Example running a script using bash<a class="headerlink" href="#example-running-a-script-using-bash" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">steps</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Display the path</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">echo $PATH</span>
    <span class="nt">shell</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bash</span>
</code></pre></div>
<h3 id="example-running-a-script-using-windows-cmd">Example running a script using Windows <code>cmd</code><a class="headerlink" href="#example-running-a-script-using-windows-cmd" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">steps</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Display the path</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">echo %PATH%</span>
    <span class="nt">shell</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cmd</span>
</code></pre></div>
<h3 id="example-running-a-python-script">Example running a python script<a class="headerlink" href="#example-running-a-python-script" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">steps</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Display the path</span>
    <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">|</span>
      <span class="no">import os</span>
      <span class="no">print(os.environ[&#39;PATH&#39;])</span>
    <span class="nt">shell</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
</code></pre></div>
<h3 id="custom-shell">Custom shell<a class="headerlink" href="#custom-shell" title="Permanent link">&para;</a></h3>
<p>You can set the shell value to a template string using <code>command [options] {0} [..more_options]</code>. Squash Orchestrator interprets the first whitespace-delimited word of the string as the command and inserts the file name for the temporary script at <code>{0}</code>.</p>
<h3 id="exit-codes-and-error-action-preference">Exit codes and error action preference<a class="headerlink" href="#exit-codes-and-error-action-preference" title="Permanent link">&para;</a></h3>
<p>For built-in shell keywords, we provide the following defaults that are executed by Squash Orchestrator execution environments. You should use these guidelines when running shell scripts.</p>
<ul>
<li>
<p><code>bash</code>/<code>sh</code>:</p>
</li>
<li>
<p>Fail-fast behavior using set -e o pipefail: Default for bash and built-in shell. It is also the default when you do not provide an option on non-Windows platforms.</p>
</li>
<li>You can opt out of fail-fast and take full control by providing a template string to the shell options. For example, bash {0}.</li>
<li>sh-like shells exit with the exit code of the last command executed in a script, which is also the default behavior for actions. The runner will report the status of the step as fail/succeed based on this exit code.</li>
<li>
<p><code>cmd</code></p>
</li>
<li>
<p>There does not seem to be a way to fully opt into fail-fast behavior other than writing your script to check each error code and respond accordingly. Because we can&rsquo;t actually provide that behavior by default, you need to write this behavior into your script.</p>
</li>
<li><code>cmd.exe</code> will exit with the error level of the last program it executed, and it will return the error code to the runner.</li>
</ul>
<h2 id="jobsjob_idstepswith"><code>jobs.&lt;job_id&gt;.steps.with</code><a class="headerlink" href="#jobsjob_idstepswith" title="Permanent link">&para;</a></h2>
<p>A map of the input parameters defined by the action. Each input parameter is a key/value pair. Input parameters are set as environment variables. The variable is prefixed with <code>INPUT_</code> and converted to upper case.</p>
<h3 id="example_10">Example<a class="headerlink" href="#example_10" title="Permanent link">&para;</a></h3>
<p>Defines the three input parameters (<code>first_name</code>, <code>middle_name</code>, and <code>last_name</code>) defined by the <code>hello_world</code> action. These input variables will be accessible to the <code>hello-world</code> action as <code>INPUT_FIRST_NAME</code>, <code>INPUT_MIDDLE_NAME</code>, and <code>INPUT_LAST_NAME</code> environment variables.</p>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">my_first_job</span><span class="p">:</span>
    <span class="nt">steps</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My first step</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/hello_world@master</span>
        <span class="nt">with</span><span class="p">:</span>
          <span class="nt">first_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Mona</span>
          <span class="nt">middle_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The</span>
          <span class="nt">last_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Octocat</span>
</code></pre></div>
<h2 id="jobsjob_idstepsvariables"><code>jobs.&lt;job_id&gt;.steps.variables</code><a class="headerlink" href="#jobsjob_idstepsvariables" title="Permanent link">&para;</a></h2>
<p>Sets environment variables for steps to use in the execution environment. You can also set environment variables for the entire workflow or a job. For more information, see <a href="#variables"><code>variables</code></a> and <a href="#jobs.&lt;job_id&gt;.variables"><code>jobs.&lt;job_id&gt;.variables</code></a>.</p>
<p>When more than one environment variable is defined with the same name, the orchestrator uses the most specific environment variable. For example, an environment variable defined in a step will override job and workflow variables with the same name, while the step executes. A variable defined for a job will override a workflow variable with the same name, while the job executes.</p>
<p>Public actions may specify expected environment variables in the README file. If you are setting a secret in an environment variable, you must set secrets using the <code>secrets</code> context. For more information, see &ldquo;<a href="../using-environment-variables/">Using environment variables</a>&rdquo; and &ldquo;<a href="../context-and-expression-syntax/">Context and expression syntax for Squash Orchestrator Workflows</a>.&rdquo;</p>
<h3 id="example_11">Example<a class="headerlink" href="#example_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">steps</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My first action</span>
    <span class="nt">variables</span><span class="p">:</span>
      <span class="nt">GITHUB_TOKEN</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ secrets.GITHUB_TOKEN }}</span>
      <span class="nt">FIRST_NAME</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Mona</span>
      <span class="nt">LAST_NAME</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Octocat</span>
</code></pre></div>
<h2 id="jobsjob_idstepscontinue-on-error"><code>jobs.&lt;job_id&gt;.steps.continue-on-error</code><a class="headerlink" href="#jobsjob_idstepscontinue-on-error" title="Permanent link">&para;</a></h2>
<p>Prevents a job from failing when a step fails. Set to <code>true</code> to allow a job to pass when this step fails.</p>
<h2 id="jobsjob_idstepstimeout-minutes"><code>jobs.&lt;job_id&gt;.steps.timeout-minutes</code><a class="headerlink" href="#jobsjob_idstepstimeout-minutes" title="Permanent link">&para;</a></h2>
<p>The maximum number of minutes to run the step before killing the process.</p>
<h2 id="jobsjob_idtimeout-minutes"><code>jobs.&lt;job_id&gt;.timeout-minutes</code><a class="headerlink" href="#jobsjob_idtimeout-minutes" title="Permanent link">&para;</a></h2>
<p>The maximum number of minutes to let a job run before the orchestrator automatically cancels it. Default: 360</p>
<h2 id="jobsjob_idstrategy"><code>jobs.&lt;job_id&gt;.strategy</code><a class="headerlink" href="#jobsjob_idstrategy" title="Permanent link">&para;</a></h2>
<p>A strategy creates a build matrix for your jobs. You can define different variations of an environment to run each job in.</p>
<h2 id="jobsjob_idstrategymatrix"><code>jobs.&lt;job_id&gt;.strategy.matrix</code><a class="headerlink" href="#jobsjob_idstrategymatrix" title="Permanent link">&para;</a></h2>
<p>You can define a matrix of different job configurations. A matrix allows you to create multiple jobs by performing variable substitution in a single job definition. For example, you can use a matrix to create jobs for more than one supported version of a programming language, execution environment, or tool. A matrix reuses the job&rsquo;s configuration and creates a job for each matrix you configure.</p>
<p>A job matrix can generate a maximum of 256 jobs per workflow run.</p>
<p>Each option you define in the <code>matrix</code> has a key and value. The keys you define become properties in the <code>matrix</code> context and you can reference the property in other areas of your workflow file. For example, if you define the key <code>os</code> that contains an array of execution environments, you can use the <code>matrix.os</code> property as the value of the <code>runs-on</code> keyword to create a job for each execution environment. For more information, see &ldquo;<a href="../context-and-expression-syntax/">Context and expression syntax for Squash Orchestrator Workflows</a>.&rdquo;</p>
<p>The order that you define a <code>matrix</code> matters. The first option you define will be the first job that runs in your workflow.</p>
<h3 id="example-running-with-more-than-one-version-of-nodejs">Example running with more than one version of Node.js<a class="headerlink" href="#example-running-with-more-than-one-version-of-nodejs" title="Permanent link">&para;</a></h3>
<p>You can specify a matrix by supplying an array for the configuration options. For example, if the runner supports Node.js versions 6, 8, and 10, you could specify an array of those versions in the <code>matrix</code>.</p>
<p>This example creates a matrix of three jobs by setting the <code>node</code> key to an array of three Node.js versions. To use the matrix, the example sets the <code>matrix.node</code> context property as the value of the <code>setup-node</code> action&rsquo;s input parameter <code>node-version</code>. As a result, three jobs will run, each using a different Node.js version.</p>
<div class="highlight"><pre><span></span><code><span class="nt">strategy</span><span class="p">:</span>
  <span class="nt">matrix</span><span class="p">:</span>
    <span class="nt">node</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">6</span><span class="p p-Indicator">,</span> <span class="nv">8</span><span class="p p-Indicator">,</span> <span class="nv">10</span><span class="p p-Indicator">]</span>
<span class="nt">steps</span><span class="p">:</span>
  <span class="c1"># Configures the node version used on execution environment</span>
  <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-node@v1</span>
    <span class="nt">with</span><span class="p">:</span>
      <span class="c1"># The Node.js version to configure</span>
      <span class="nt">node-version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ matrix.node }}</span>
</code></pre></div>
<h3 id="example-running-with-more-than-one-execution-environment">Example running with more than one execution environment<a class="headerlink" href="#example-running-with-more-than-one-execution-environment" title="Permanent link">&para;</a></h3>
<p>You can create a matrix to run workflows on more than one execution environment. You can also specify more than one matrix configuration. This example creates a matrix of 6 jobs:</p>
<ul>
<li>2 execution environments specified in the <code>os</code> array</li>
<li>3 Node.js versions specified in the <code>node</code> array</li>
</ul>
<p>When you define a matrix of execution environments, you must set the value of <code>runs-on</code> to the <code>matrix.os</code> context property you defined.</p>
<div class="highlight"><pre><span></span><code><span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ matrix.os }}</span>
<span class="nt">strategy</span><span class="p">:</span>
  <span class="nt">matrix</span><span class="p">:</span>
    <span class="nt">os</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">ubuntu-16.04</span><span class="p p-Indicator">,</span> <span class="nv">ubuntu-18.04</span><span class="p p-Indicator">]</span>
    <span class="nt">node</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">6</span><span class="p p-Indicator">,</span> <span class="nv">8</span><span class="p p-Indicator">,</span> <span class="nv">10</span><span class="p p-Indicator">]</span>
<span class="nt">steps</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-node@v1</span>
    <span class="nt">with</span><span class="p">:</span>
      <span class="nt">node-version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ matrix.node }}</span>
</code></pre></div>
<h3 id="example-including-additional-values-into-combinations">Example including additional values into combinations<a class="headerlink" href="#example-including-additional-values-into-combinations" title="Permanent link">&para;</a></h3>
<p>You can add additional configuration options to a build matrix job that already exists. For example, if you want to use a specific version of npm when the job that uses windows-latest and version 4 of node runs, you can use include to specify that additional option.</p>
<div class="highlight"><pre><span></span><code><span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ matrix.os }}</span>
<span class="nt">strategy</span><span class="p">:</span>
  <span class="nt">matrix</span><span class="p">:</span>
    <span class="nt">os</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">macos-latest</span><span class="p p-Indicator">,</span> <span class="nv">windows-latest</span><span class="p p-Indicator">,</span> <span class="nv">ubuntu-18.04</span><span class="p p-Indicator">]</span>
    <span class="nt">node</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">4</span><span class="p p-Indicator">,</span> <span class="nv">6</span><span class="p p-Indicator">,</span> <span class="nv">8</span><span class="p p-Indicator">,</span> <span class="nv">10</span><span class="p p-Indicator">]</span>
    <span class="nt">include</span><span class="p">:</span>
      <span class="c1"># includes a new variable of npm with a value of 2</span>
      <span class="c1"># for the matrix leg matching the os and version</span>
      <span class="p p-Indicator">-</span> <span class="nt">os</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">windows-latest</span>
        <span class="nt">node</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
        <span class="nt">npm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre></div>
<h3 id="example-including-new-combinations">Example including new combinations<a class="headerlink" href="#example-including-new-combinations" title="Permanent link">&para;</a></h3>
<p>You can use include to add new jobs to a build matrix. Any unmatched include configurations are added to the matrix. For example, if you want to use node version 12 to build on multiple execution environments but wanted one extra experimental job using node version 13 on Ubuntu, you can use include to specify that additional job.</p>
<div class="highlight"><pre><span></span><code><span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ matrix.os }}</span>
<span class="nt">strategy</span><span class="p">:</span>
  <span class="nt">matrix</span><span class="p">:</span>
    <span class="nt">node</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">12</span><span class="p p-Indicator">]</span>
    <span class="nt">os</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">macos-latest</span><span class="p p-Indicator">,</span> <span class="nv">windows-latest</span><span class="p p-Indicator">,</span> <span class="nv">ubuntu-18.04</span><span class="p p-Indicator">]</span>
    <span class="nt">include</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">node</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">13</span>
        <span class="nt">os</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-18.04</span>
        <span class="nt">experimental</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<h3 id="example-excluding-configurations-from-a-matrix">Example excluding configurations from a matrix<a class="headerlink" href="#example-excluding-configurations-from-a-matrix" title="Permanent link">&para;</a></h3>
<p>You can remove a specific configuration defined in the build matrix using the exclude option. Using exclude removes a job defined by the build matrix. The number of jobs is the cross product of the number of execution environments (os) included in the arrays you provide, minus any subtractions (exclude).</p>
<div class="highlight"><pre><span></span><code><span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ matrix.os }}</span>
<span class="nt">strategy</span><span class="p">:</span>
  <span class="nt">matrix</span><span class="p">:</span>
    <span class="nt">os</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">macos-latest</span><span class="p p-Indicator">,</span> <span class="nv">windows-latest</span><span class="p p-Indicator">,</span> <span class="nv">ubuntu-18.04</span><span class="p p-Indicator">]</span>
    <span class="nt">node</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">4</span><span class="p p-Indicator">,</span> <span class="nv">6</span><span class="p p-Indicator">,</span> <span class="nv">8</span><span class="p p-Indicator">,</span> <span class="nv">10</span><span class="p p-Indicator">]</span>
    <span class="nt">exclude</span><span class="p">:</span>
      <span class="c1"># excludes node 4 on macOS</span>
      <span class="p p-Indicator">-</span> <span class="nt">os</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">macos-latest</span>
        <span class="nt">node</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
</code></pre></div>
<p>Note: All include combinations are processed after exclude. This allows you to use include to add back combinations that were previously excluded.</p>
<h2 id="jobsjob_idstrategyfail-fast"><code>jobs.&lt;job_id&gt;.strategy.fail-fast</code><a class="headerlink" href="#jobsjob_idstrategyfail-fast" title="Permanent link">&para;</a></h2>
<p>When set to true, Squash Orchestrator cancels all in-progress jobs if any <code>matrix</code> job fails. Default: true</p>
<h2 id="jobsjob_idstrategymax-parallel"><code>jobs.&lt;job_id&gt;.strategy.max-parallel</code><a class="headerlink" href="#jobsjob_idstrategymax-parallel" title="Permanent link">&para;</a></h2>
<p>The maximum number of jobs that can run simultaneously when using a matrix job strategy. By default, the orchestrator will maximize the number of jobs run in parallel depending on the available execution environments.</p>
<div class="highlight"><pre><span></span><code><span class="nt">strategy</span><span class="p">:</span>
  <span class="nt">max-parallel</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre></div>
<h2 id="jobsjob_idcontinue-on-error"><code>jobs.&lt;job_id&gt;.continue-on-error</code><a class="headerlink" href="#jobsjob_idcontinue-on-error" title="Permanent link">&para;</a></h2>
<p>Prevents a workflow run from failing when a job fails. Set to <code>true</code> to allow a workflow run to pass when this job fails.</p>
<h3 id="example-preventing-a-specific-failing-matrix-job-from-failing-a-workflow-run">Example preventing a specific failing matrix job from failing a workflow run<a class="headerlink" href="#example-preventing-a-specific-failing-matrix-job-from-failing-a-workflow-run" title="Permanent link">&para;</a></h3>
<p>You can allow specific jobs in a job matrix to fail without failing the workflow run. For example, if you wanted to only allow an experimental job with <code>node</code> set to <code>13</code> to fail without failing the workflow run.</p>
<div class="highlight"><pre><span></span><code><span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ matrix.os }}</span>
<span class="nt">continue-on-error</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ matrix.experimental }}</span>
<span class="nt">strategy</span><span class="p">:</span>
  <span class="nt">fail-fast</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
  <span class="nt">matrix</span><span class="p">:</span>
    <span class="nt">node</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">11</span><span class="p p-Indicator">,</span> <span class="nv">12</span><span class="p p-Indicator">]</span>
    <span class="nt">os</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">macos-latest</span><span class="p p-Indicator">,</span> <span class="nv">ubuntu-18.04</span><span class="p p-Indicator">]</span>
    <span class="nt">experimental</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">false</span><span class="p p-Indicator">]</span>
    <span class="nt">include</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">node</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">13</span>
        <span class="nt">os</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-18.04</span>
        <span class="nt">experimental</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../../services/sshee/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              SSH Channel service
            </div>
          </div>
        </a>
      
      
        <a href="../context-and-expression-syntax/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Context and expression syntax
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.9b151c6a.min.js"></script>
      
    
  </body>
</html>